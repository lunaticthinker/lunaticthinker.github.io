{{- define "title" -}}
{{- .Title -}}
{{- if .Site.Params.withSiteTitle }} {{ .Site.Params.titleDelimiter }} {{ .Site.Title }}{{- end -}}
{{- end -}}

{{- define "content" -}}
{{- $allPosts := where .Site.RegularPages "Section" "posts" -}}
<div class="page archive">
    <div class="header">
        <h1 class="single-title animate__animated animate__pulse animate__faster">
            <i class="fa-solid fa-feather fa-fw me-1"></i>
            {{- .Title }} <sup>{{ len $allPosts }}</sup>
        </h1>
    </div>

    {{- /* Paginate */ -}}
    {{- if $allPosts -}}
    {{- $pages := $allPosts.GroupByDate "2006" -}}
    {{- with .Site.Params.section.paginate | default .Site.Params.pagination.pagerSize -}}
    {{- $pages = $.Paginate $pages . -}}
    {{- else -}}
    {{- $pages = .Paginate $pages -}}
    {{- end -}}
    {{- range $pages.PageGroups -}}
    <h2 class="group-title">
        <i class="fa-regular fa-calendar fa-fw me-1"></i>
        {{- .Key -}}
    </h2>
    {{- range .Pages -}}
    <article class="archive-item">
        <a href="{{ .RelPermalink }}" class="archive-item-link">
            {{- .LinkTitle -}}
        </a>
        <span class="archive-item-date" title='{{ "2006-01-02 15:04:05" | .Date.Format }}'>
            {{- .Date | dateFormat ($.Site.Params.section.dateFormat | default "01-02") -}}
        </span>
    </article>
    {{- end -}}
    {{- end -}}
    {{- partial "paginator.html" . -}}
    {{- end -}}
</div>
{{- end -}}
